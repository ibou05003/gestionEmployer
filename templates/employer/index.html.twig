{% extends 'liste.html.twig' %}

{% block title %}Liste Employers {% endblock %}

{% block body %}
    {% block titre %}
        <h1>Liste des Employers</h1>
    {% endblock %}

        <table id="tableau" class="table nowrap table-bordered text-center table-striped table-hover">
            <thead class="thead-dark">
                <tr>
                    <th>#</th>
                    <th>Matricule</th>
                    <th>Nom</th>
                    <th>Prenom</th>
                    <th>Date de Naissance</th>
                    <th>Salaire</th>
                    <th>Service</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tfoot class="thead-dark">
                <tr>
                    <th>#</th>
                    <th>Matricule</th>
                    <th>Nom</th>
                    <th>Prenom</th>
                    <th>Date de Naissance</th>
                    <th>Salaire</th>
                    <th>Service</th>
                    <th>Action</th>
                </tr>
            </tfoot>
            <tbody>
                {% set i=1 %}
                {% for employer in employers  %}
                    <tr>
                        <td scope="row">{{ i }}</td>
                        <td>{{ employer.matricule }}</td>
                        <td>{{ employer.nom }}</td>
                        <td>{{ employer.prenom }}</td>
                        <td>{{ employer.bornAt | date ('d/m/Y') }}</td>
                        <td>{{ employer.salaire | number_format(2, '.', ' ') }} F Cfa </td>
                        <td>{{ employer.service.libelle }}</td>

                        <td> 
                            <a role="button" href="#" class="btn btn-outline-info detail" data-toggle="modal" data-target="#exampleModal" data-whatever="{{employer.id}}"> <i class="far fa-eye"></i></a>
                            <a class="btn btn-outline-primary" href="{{ path('edit_employer',{'id':employer.id}) }}" role="button"><i class="far fa-edit"></i></a>
                            <a class="btn btn-outline-danger" href="{{ path('delete_employer',{'id':employer.id}) }}" onclick="confirm('Etes vous sur de vouloir supprimer cet element?')" role="button"><i class="fas fa-user-times"></i></a>
                        </td>
                    </tr>
                    {% set i=i+1 %}
                {% endfor %}
            </tbody>
        </table>
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
<div class="modal-dialog" role="document">
    <div class="modal-content">
    <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Details</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
        <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="form-group">
            <label class="control-label" for="matricule">Matricule</label>
            <input class="form-control" id="matricule" type="text">
        </div>
        <div class="form-group">
            <label class="control-label" for="nom">Nom</label>
            <input class="form-control" id="nom" type="text">
        </div>
        <div class="form-group">
            <label class="control-label" for="prenom">Prenom</label>
            <input class="form-control" id="prenom" type="text">
        </div>
        <div class="form-group">
            <label class="control-label" for="naissance">Date Naissance</label>
            <input class="form-control" id="naissance" type="text">
        </div> 
        <div class="form-group">
            <label class="control-label" for="salaire">Salaire</label>
            <input class="form-control" id="salaire" type="text">
        </div>
        <div class="form-group">
            <label class="control-label" for="service">Service</label>
            <input class="form-control" id="service" type="text">
        </div>
    </div>
    </div>
</div>
</div>

{% endblock %}
{% block javascripts %}
    


{% endblock %}